{{ $cards := .Cards }}
<article id="players" class="players">
  <h2>players</h2>
  {{ range .Players }}
  {{ $playerID := .PlayerID }}
  <section id="player-{{ .PlayerID }}" class="player">
    <div>{{ .Name }}</div>
    <div>current points: {{ .Points.Value }}</div>
    <!-- TODO: hide this behind isHost -->
    <button type="button" onclick="openPointsModal('{{ $.Game.ID }}','{{ .PlayerID}}', '{{ .Points.Value}}', '{{ .Name }}')">change points</button>
    <!--  -->
    <div>{{ .Initiative }}</div>
    <div>
      {{ range $cards }}
      {{ if eq .PlayerID.Value $playerID }}
      <button>{{ .Front }}</button>
      {{ end }}
      {{ end }}
    </div>
  </section>
  {{ end }}
  {{ if eq .Game.StateName "inviting" }}
  <section class="player">
    <p>Invite players with a <a href="/{{ .Game.ID }}/join">Share Link</a></p>
  </section>
  {{ end }}
</article>

